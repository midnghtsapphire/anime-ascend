import { useState } from 'react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Card } from '@/components/ui/card';\nimport { Separator } from '@/components/ui/separator';\nimport { Chrome, Apple } from 'lucide-react';\nimport { useLocation } from 'wouter';\n\n/**\n * Anime Ascend Signup Page\n * Design: Neon Shrine glassmorphism\n * \n * Features:\n * - Email/password signup\n * - Google OAuth\n * - Apple Sign-In\n * - Freemium conversion (auto-trial signup)\n */\n\nexport default function Signup() {\n  const [, setLocation] = useLocation();\n  const { signup, loginWithGoogle, loginWithApple, isLoading } = useAuth();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [error, setError] = useState('');\n\n  const handleEmailSignup = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n\n    if (password !== confirmPassword) {\n      setError('Passwords do not match');\n      return;\n    }\n\n    if (password.length < 8) {\n      setError('Password must be at least 8 characters');\n      return;\n    }\n\n    try {\n      await signup(email, password, name);\n      // Freemium conversion: auto-signup to trial\n      setLocation('/');\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Signup failed');\n    }\n  };\n\n  const handleGoogleSignup = async () => {\n    setError('');\n    try {\n      await loginWithGoogle();\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Google signup failed');\n    }\n  };\n\n  const handleAppleSignup = async () => {\n    setError('');\n    try {\n      await loginWithApple();\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Apple signup failed');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background text-foreground flex items-center justify-center p-4\">\n      {/* Background decoration */}\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n        <div className=\"absolute top-0 right-0 w-96 h-96 bg-primary/10 rounded-full blur-3xl\" />\n        <div className=\"absolute bottom-0 left-0 w-96 h-96 bg-accent/10 rounded-full blur-3xl\" />\n      </div>\n\n      <Card className=\"glass-panel w-full max-w-md relative z-10\">\n        <div className=\"p-8\">\n          {/* Header */}\n          <div className=\"text-center mb-8\">\n            <h1 className=\"text-3xl font-bold text-primary mb-2\">Anime Ascend</h1>\n            <p className=\"text-foreground/70\">Create your account</p>\n            <p className=\"text-sm text-foreground/50 mt-2\">Start with 5 free tokens</p>\n          </div>\n\n          {/* Error Message */}\n          {error && (\n            <div className=\"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg text-red-200 text-sm\">\n              {error}\n            </div>\n          )}\n\n          {/* Email/Password Form */}\n          <form onSubmit={handleEmailSignup} className=\"space-y-4 mb-6\">\n            <div>\n              <Label htmlFor=\"name\" className=\"text-foreground/80\">\n                Full Name\n              </Label>\n              <Input\n                id=\"name\"\n                type=\"text\"\n                placeholder=\"Your name\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                required\n                className=\"mt-2 bg-background/50 border-primary/30 text-foreground placeholder:text-foreground/40\"\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"email\" className=\"text-foreground/80\">\n                Email\n              </Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                placeholder=\"you@example.com\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n                className=\"mt-2 bg-background/50 border-primary/30 text-foreground placeholder:text-foreground/40\"\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"password\" className=\"text-foreground/80\">\n                Password\n              </Label>\n              <Input\n                id=\"password\"\n                type=\"password\"\n                placeholder=\"••••••••\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n                className=\"mt-2 bg-background/50 border-primary/30 text-foreground placeholder:text-foreground/40\"\n              />\n              <p className=\"text-xs text-foreground/50 mt-1\">At least 8 characters</p>\n            </div>\n            <div>\n              <Label htmlFor=\"confirmPassword\" className=\"text-foreground/80\">\n                Confirm Password\n              </Label>\n              <Input\n                id=\"confirmPassword\"\n                type=\"password\"\n                placeholder=\"••••••••\"\n                value={confirmPassword}\n                onChange={(e) => setConfirmPassword(e.target.value)}\n                required\n                className=\"mt-2 bg-background/50 border-primary/30 text-foreground placeholder:text-foreground/40\"\n              />\n            </div>\n            <Button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"w-full bg-primary hover:bg-primary/90 text-background font-semibold\"\n            >\n              {isLoading ? 'Creating account...' : 'Create Account'}\n            </Button>\n          </form>\n\n          {/* Divider */}\n          <div className=\"flex items-center gap-4 mb-6\">\n            <Separator className=\"flex-1 bg-primary/20\" />\n            <span className=\"text-foreground/60 text-sm\">Or sign up with</span>\n            <Separator className=\"flex-1 bg-primary/20\" />\n          </div>\n\n          {/* OAuth Buttons */}\n          <div className=\"space-y-3 mb-6\">\n            <Button\n              onClick={handleGoogleSignup}\n              disabled={isLoading}\n              variant=\"outline\"\n              className=\"w-full border-primary/30 text-foreground hover:bg-primary/10 flex items-center gap-2\"\n            >\n              <Chrome className=\"w-4 h-4\" />\n              Google\n            </Button>\n            <Button\n              onClick={handleAppleSignup}\n              disabled={isLoading}\n              variant=\"outline\"\n              className=\"w-full border-primary/30 text-foreground hover:bg-primary/10 flex items-center gap-2\"\n            >\n              <Apple className=\"w-4 h-4\" />\n              Apple\n            </Button>\n          </div>\n\n          {/* Login Link */}\n          <div className=\"text-center text-foreground/70 text-sm\">\n            Already have an account?{' '}\n            <button\n              onClick={() => setLocation('/login')}\n              className=\"text-primary hover:text-primary/80 font-semibold transition-colors\"\n            >\n              Sign in\n            </button>\n          </div>\n\n          {/* Freemium Info */}\n          <div className=\"mt-6 pt-6 border-t border-primary/20 text-center text-xs text-foreground/50\">\n            <p>Start free with 5 tokens. Auto-upgrade to trial on first use.</p>\n          </div>\n        </div>\n      </Card>\n    </div>\n  );\n}\n
