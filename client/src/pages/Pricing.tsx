import { Button } from '@/components/ui/button';\nimport { Card } from '@/components/ui/card';\nimport { Check } from 'lucide-react';\nimport { useBilling } from '@/contexts/BillingContext';\nimport { useAuth } from '@/contexts/AuthContext';\n\n/**\n * Anime Ascend Pricing Page\n * Design: Neon Shrine glassmorphism\n * \n * Subscription Tiers:\n * - Free: 10 anime/month, 5 tokens/month\n * - Premium: Unlimited anime, $9.99/month, 50 tokens/month\n * - Pro: Premium + AI recommendations, $19.99/month, 200 tokens/month\n */\n\ninterface PricingTier {\n  id: string;\n  name: string;\n  price: number;\n  period: string;\n  description: string;\n  features: string[];\n  tokens: number;\n  animeLimit: string;\n  cta: string;\n  highlighted?: boolean;\n}\n\nconst tiers: PricingTier[] = [\n  {\n    id: 'free',\n    name: 'Free',\n    price: 0,\n    period: 'forever',\n    description: 'Start your journey',\n    features: [\n      '10 anime per month',\n      'Basic discovery',\n      'Personal watchlist',\n      '5 tokens per month',\n      'Community access',\n      'Standard support',\n    ],\n    tokens: 5,\n    animeLimit: '10/month',\n    cta: 'Get Started',\n  },\n  {\n    id: 'premium',\n    name: 'Premium',\n    price: 9.99,\n    period: 'month',\n    description: 'Unlimited discovery',\n    features: [\n      'Unlimited anime',\n      'Advanced filtering',\n      'AI recommendations',\n      '50 tokens per month',\n      'Character profiles',\n      'Priority support',\n      'Ad-free experience',\n      'Export watchlist',\n    ],\n    tokens: 50,\n    animeLimit: 'Unlimited',\n    cta: 'Upgrade to Premium',\n    highlighted: true,\n  },\n  {\n    id: 'pro',\n    name: 'Pro',\n    price: 19.99,\n    period: 'month',\n    description: 'Ultimate experience',\n    features: [\n      'Everything in Premium',\n      'AI character chat',\n      'Advanced analysis',\n      '200 tokens per month',\n      'Custom recommendations',\n      'Early access to features',\n      'VIP community badge',\n      '24/7 support',\n    ],\n    tokens: 200,\n    animeLimit: 'Unlimited',\n    cta: 'Upgrade to Pro',\n  },\n];\n\nexport default function Pricing() {\n  const { user } = useAuth();\n  const { upgradeToPremium, upgradeToPro } = useBilling();\n\n  const handleUpgrade = async (tierId: string) => {\n    if (!user) {\n      // Redirect to login\n      window.location.href = '/login';\n      return;\n    }\n\n    try {\n      if (tierId === 'premium') {\n        await upgradeToPremium();\n      } else if (tierId === 'pro') {\n        await upgradeToPro();\n      }\n    } catch (error) {\n      console.error('Upgrade error:', error);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background text-foreground\">\n      {/* Navigation */}\n      <nav className=\"sticky top-0 z-50 glass-panel-sm backdrop-blur-xl border-b border-primary/20\">\n        <div className=\"container flex items-center justify-between h-16\">\n          <div className=\"text-2xl font-bold text-primary\">Anime Ascend</div>\n          <Button className=\"bg-primary hover:bg-primary/90 text-background\">\n            Sign In\n          </Button>\n        </div>\n      </nav>\n\n      {/* Header */}\n      <section className=\"container py-16 md:py-24 text-center\">\n        <h1 className=\"text-4xl md:text-5xl font-bold mb-4\">Simple, Transparent Pricing</h1>\n        <p className=\"text-lg text-foreground/70 max-w-2xl mx-auto mb-8\">\n          Choose the perfect plan for your coming-of-age anime journey. All plans include access to our core discovery features.\n        </p>\n      </section>\n\n      {/* Pricing Cards */}\n      <section className=\"container pb-24\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto\">\n          {tiers.map((tier) => (\n            <Card\n              key={tier.id}\n              className={`glass-panel p-8 flex flex-col transition-all ${\n                tier.highlighted\n                  ? 'md:scale-105 border-accent/50 shadow-lg shadow-accent/20'\n                  : 'border-primary/20'\n              }`}\n            >\n              {/* Tier Badge */}\n              {tier.highlighted && (\n                <div className=\"mb-4\">\n                  <span className=\"inline-block px-3 py-1 bg-accent/20 border border-accent/50 rounded-full text-accent text-sm font-semibold\">\n                    Most Popular\n                  </span>\n                </div>\n              )}\n\n              {/* Tier Name */}\n              <h2 className=\"text-2xl font-bold mb-2\">{tier.name}</h2>\n              <p className=\"text-foreground/70 mb-6 text-sm\">{tier.description}</p>\n\n              {/* Price */}\n              <div className=\"mb-6\">\n                <div className=\"flex items-baseline gap-1\">\n                  <span className=\"text-4xl font-bold text-primary\">${tier.price}</span>\n                  {tier.price > 0 && (\n                    <span className=\"text-foreground/70\">/{tier.period}</span>\n                  )}\n                </div>\n              </div>\n\n              {/* Token Info */}\n              <div className=\"mb-6 p-4 bg-primary/10 rounded-lg border border-primary/20\">\n                <p className=\"text-sm text-foreground/70 mb-1\">Monthly Tokens</p>\n                <p className=\"text-2xl font-bold text-primary\">{tier.tokens}</p>\n                <p className=\"text-xs text-foreground/60 mt-2\">\n                  {tier.animeLimit} anime access\n                </p>\n              </div>\n\n              {/* CTA Button */}\n              <Button\n                onClick={() => handleUpgrade(tier.id)}\n                className={`w-full mb-6 font-semibold ${\n                  tier.highlighted\n                    ? 'bg-primary hover:bg-primary/90 text-background'\n                    : 'bg-primary/20 hover:bg-primary/30 text-primary border border-primary/50'\n                }`}\n              >\n                {tier.cta}\n              </Button>\n\n              {/* Features */}\n              <div className=\"space-y-3 flex-1\">\n                {tier.features.map((feature, index) => (\n                  <div key={index} className=\"flex items-start gap-3\">\n                    <Check className=\"w-5 h-5 text-accent flex-shrink-0 mt-0.5\" />\n                    <span className=\"text-foreground/80 text-sm\">{feature}</span>\n                  </div>\n                ))}\n              </div>\n            </Card>\n          ))}\n        </div>\n      </section>\n\n      {/* FAQ Section */}\n      <section className=\"container py-16 md:py-24 border-t border-primary/20\">\n        <div className=\"max-w-3xl mx-auto\">\n          <h2 className=\"text-3xl font-bold mb-12 text-center\">Frequently Asked Questions</h2>\n          <div className=\"space-y-6\">\n            <div>\n              <h3 className=\"text-lg font-semibold mb-2\">Can I change my plan anytime?</h3>\n              <p className=\"text-foreground/70\">\n                Yes! You can upgrade or downgrade your plan at any time. Changes take effect at the next billing cycle.\n              </p>\n            </div>\n            <div>\n              <h3 className=\"text-lg font-semibold mb-2\">What happens if I run out of tokens?</h3>\n              <p className=\"text-foreground/70\">\n                You can still use basic features. To use AI features, you can purchase additional tokens or upgrade your plan.\n              </p>\n            </div>\n            <div>\n              <h3 className=\"text-lg font-semibold mb-2\">Is there a free trial?</h3>\n              <p className=\"text-foreground/70\">\n                Yes! Free users get 5 tokens to try AI features. When you're ready, upgrade to Premium or Pro for unlimited access.\n              </p>\n            </div>\n            <div>\n              <h3 className=\"text-lg font-semibold mb-2\">Can I cancel anytime?</h3>\n              <p className=\"text-foreground/70\">\n                Absolutely. Cancel your subscription anytime from your account settings. No questions asked.\n              </p>\n            </div>\n            <div>\n              <h3 className=\"text-lg font-semibold mb-2\">What payment methods do you accept?</h3>\n              <p className=\"text-foreground/70\">\n                We accept all major credit cards (Visa, Mastercard, American Express) via Stripe.\n              </p>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Footer */}\n      <footer className=\"border-t border-primary/20 bg-background/50 backdrop-blur\">\n        <div className=\"container py-8 text-center text-foreground/60 text-sm\">\n          <p>&copy; 2026 Anime Ascend. All rights reserved.</p>\n        </div>\n      </footer>\n    </div>\n  );\n}\n
